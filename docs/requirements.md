# 簡易ブログアプリ 要件定義書

## 概要

Laravel 12 + ADR + UseCase アーキテクチャを使用した簡易ブログアプリケーションの要件定義書です。

**🎯 主目的**: ADRパターンの学習と実践

## プロジェクト情報

- **プロジェクト名**: ADR Blog Lite
- **技術スタック**: Laravel 12, PHP 8.3+, SQLite（学習用）
- **アーキテクチャ**: ADR (Action-Domain-Responder) + UseCase パターン
- **対象ユーザー**: ブログ閲覧者、ブログ管理者
- **学習目標**: ADRパターンの理解と実装スキル習得

## ADR学習ポイント

### Action層で学ぶこと
- HTTPリクエストの受け取りと初期処理
- バリデーション処理の実装
- UseCase呼び出しの最適な方法
- Responder連携のベストプラクティス

### UseCase層で学ぶこと
- ビジネスロジックの分離
- トランザクション管理
- Eloquentとの効果的な連携
- エラーハンドリング戦略

### Responder層で学ぶこと
- レスポンス形式の統一
- JSON API設計
- エラーレスポンスの標準化
- ステータスコードの適切な使用

## 機能要件

### ブログ閲覧者向け機能

#### F-001: 記事一覧表示
- **概要**: 公開済み記事の一覧を表示する
- **詳細**:
  - 記事タイトル、投稿日、要約を表示
  - ページネーション機能（10件/ページ）
  - 最新順でソート
  - 公開状態の記事のみ表示
- **画面**: 記事一覧画面
- **優先度**: 高

#### F-002: 記事詳細表示
- **概要**: 選択した記事の詳細内容を表示する
- **詳細**:
  - 記事タイトル、投稿日、本文を表示
  - マークダウン形式の記事をHTMLで表示
  - 前後の記事へのナビゲーション
- **画面**: 記事詳細画面
- **優先度**: 高

### ブログ管理機能

#### F-003: 記事管理一覧
- **概要**: 全記事の一覧を表示・管理する
- **詳細**:
  - 全記事（公開・非公開）の表示
  - 記事の公開状態表示
  - 記事編集・削除へのリンク
  - 投稿日順でソート
  - ステータス別フィルタリング
- **画面**: 記事管理一覧画面
- **優先度**: 高

#### F-004: 記事投稿・編集
- **概要**: 新規記事の投稿および既存記事の編集を行う
- **詳細**:
  - 記事タイトル、本文（マークダウン）、公開状態の入力
  - リアルタイムプレビュー機能
  - 下書き保存機能
  - バリデーション機能
- **画面**: 記事投稿・編集画面
- **優先度**: 高

## 非機能要件（学習目的）

### NFR-001: コード品質
- **ADR + UseCase パターンの徹底**: 各層の責務を明確に分離
- **型安全性の確保**: PHP 8.3+ の機能を活用
- **テストカバレッジ**: 80%以上（学習効果測定）

### NFR-002: 学習効果
- **実装パターンの習得**: 各層での適切な実装方法
- **テスト駆動開発**: 単体テスト・結合テストの実践
- **コードリーダビリティ**: 理解しやすいコード構造

### NFR-003: 最小限の機能性
- **基本的なセキュリティ**: Laravel標準機能の活用
- **シンプルなUIデザイン**: 学習に集中できるインターフェース
- **軽量なデータベース**: SQLite使用（環境構築の簡素化）

## ユーザーストーリー

### 閲覧者ストーリー

#### US-001: 記事一覧閲覧
```
As a ブログ読者
I want to 記事一覧を見る
So that 興味のある記事を見つけることができる
```

**受け入れ条件**:
- [ ] 公開済み記事のみが表示される
- [ ] 記事タイトルと投稿日が表示される
- [ ] 10件ずつページネーションされる
- [ ] 最新の記事が上部に表示される

#### US-002: 記事詳細閲覧
```
As a ブログ読者
I want to 記事の詳細を読む
So that 記事の内容を理解することができる
```

**受け入れ条件**:
- [ ] 記事タイトル、投稿日、本文が表示される
- [ ] マークダウンがHTMLとして適切に表示される
- [ ] 前後の記事へナビゲーションできる

### 管理者ストーリー

#### US-003: 記事管理
```
As a ブログ管理者
I want to 記事を管理する
So that ブログコンテンツを維持することができる
```

**受け入れ条件**:
- [ ] 全記事の一覧を確認できる
- [ ] 記事の公開状態を確認できる
- [ ] 記事の編集・削除ができる
- [ ] ステータス別にフィルタリングできる

#### US-004: 記事投稿
```
As a ブログ管理者
I want to 新しい記事を投稿する
So that ブログコンテンツを充実させることができる
```

**受け入れ条件**:
- [ ] タイトルと本文を入力できる
- [ ] マークダウン形式で記事を書ける
- [ ] プレビュー機能で確認できる
- [ ] 公開・非公開を選択できる
- [ ] 下書き保存ができる

## データ要件

### 記事データ
- **記事ID**: 一意識別子
- **タイトル**: 最大200文字
- **本文**: マークダウン形式、最大10,000文字
- **公開状態**: 公開/非公開
- **投稿日時**: 作成日時
- **更新日時**: 最終更新日時

### ユーザーデータ（簡素化）
- **ユーザーID**: 一意識別子（固定値使用）
- **名前**: 最大100文字
- **作成日時**: アカウント作成日時

**注記**: 認証機能は学習範囲外のため、固定のユーザーIDを使用します。

## 制約事項

### 技術的制約（学習重視）
- Laravel 12 の機能範囲内での実装
- ADR + UseCase パターンの厳守
- Eloquent ORM の使用（Repository パターンは使用しない）
- SQLite使用（環境構築の簡素化）
- 外部API連携は対象外

### ビジネス制約（最小限実装）
- 管理者は1名のみ（ユーザー管理は簡素化）
- ファイルアップロード機能は対象外
- SEO対策は対象外
- デプロイ・運用は考慮しない

## 成功基準

### 学習成功基準
- [ ] ADRパターンの各層実装を理解
- [ ] UseCaseとActionの適切な分離を習得
- [ ] Responderによるレスポンス統一を実践
- [ ] 単体テスト・結合テストの書き方を習得

### 開発成功基準
- [ ] 全機能要件の実装完了
- [ ] テストカバレッジ80%以上達成
- [ ] 各層の責務分離が明確
- [ ] 型安全なコードの実装完了

---

*この要件定義書は、プロジェクトの進行に応じて更新・改訂される可能性があります。* 